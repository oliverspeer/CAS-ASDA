---
title:  "DAG_IDA"
author: "Oliver Speer"
date:   "`r Sys.Date()`"
editor: source
lang: de
language: 
  title-block-author-single: "Autor:"
  title-block-published: "Version vom:"
format:
  html:
    embed-resources: true
    toc: true
    toc-depth: 3
    theme: cosmo
    fig-width: 8
    fig-height: 6
    fig-align: "center"
    fig-caption: true
    df-print: kable
    highlight: "monochrome"
---

```{css, echo = FALSE}
.justify {
  text-align: justify
}
```

## Exercise 1  {.justify}

```{r}
library(dagitty)
# Erstellen des DAG
iron_dag <- dagitty("dag {
    Eisen -> Ferritin
    Eisen -> Transferrinsaettigung
    Transferrinsaettigung -> Erythropoiese_L
    Eisenbedarf_L -> sTfR
    Eisenbedarf_L <- Erythropoiese_L
    Erythropoiese_L -> Erythrozyten
    Erythropoiese_L -> Haemoglobin
    Haemoglobin -> Erythrozyten
    Transferrin -> Transferrinsaettigung
    Haemoglobin -> MCV
    IL6 -> Ferritin
    IL6 -> CRP
    IL6-> Transferrin
    Estradiol -> Ferritin
    Ferritin -> Makrophagen
    Makrophagen -> Transferrinsaettigung
    Anemia -> EPO
    Eisen -> Anemia
    Eisenbedarf_L -> Hepcidin_L
    Hepcidin_L -> Makrophagen
    EPO -> Hepcidin_L
    IL6 -> Anemia
    
}")


# Visualisierung des DAG
plot(iron_dag)
```


```{r}
adjustmentSets(iron_dag, exposure = "Eisen", outcome = "sTfR")
```

```{r}
adjustmentSets(iron_dag, exposure = "Anemia", outcome = "sTfR")
```

